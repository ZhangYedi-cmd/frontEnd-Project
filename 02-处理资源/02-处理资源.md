# webpack 处理资源

## 处理CSS资源
新建一个css目录来存放我们的样式资源，在不配置任何loader的情况下，引入一个CSS资源。 

```css
.box {
    color: red;
    height: 400px;
    width: 400px;
}
```

在main.js中,不配置任何loader的情况下，引入一个CSS资源。 

```js
import style from './css/index.css'

console.log("this is main.js")
```

webpack.config.js

```js
const path = require("path")

module.exports = {
    // 入口
    entry: "./main.js",
    output: {
        path: path.resolve(__dirname, "dist"),  // node 中的绝对路径
        filename: "main.js"
    },
    module: {
        rules: [

        ],
    },
    // 插件
    plugins: [],
    mode: "development"
}
```

开始打包：

![image-20220612111955542](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/886/image-20220612111955542.png)

结果显示打包失败，是因为没有相关的loader可以处理CSS资源。 

### 安装css-loader

在webpack官网中，给我们推荐了处理非js和json资源的loader。

[webpack-loader](https://webpack.docschina.org/loaders/css-loader/#getting-started)

![image-20220612112104672](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/886/image-20220612112104672.png)

安装css-loader

```shell
npm install --save-dev css-loader
```

配置css-loader

```js
const path = require("path")

module.exports = {
    // 入口
    entry: "./main.js",
    output: {
        path: path.resolve(__dirname, "dist"),  // node 中的绝对路径
        filename: "main.js"
    },
    module: {
        rules: [
            {
                test: /\.css$/i,
                // 执行顺序，从右到左，从下到上
                use: [
                  "style-loader", //将js中通过创建style标签的形式添加到html中
                  "css-loader" // 将css资源编译成commonjs的模块到js中
                ],
            }
        ],
    },
    // 插件
    plugins: [],
    mode: "development"
}
```

开始打包， 执行成功！

![image-20220612113207881](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/886/image-20220612113207881.png)